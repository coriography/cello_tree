{% extends 'base.html' %}

{% block body %}
<div class="bkg-img" style="background-image: url(/static/img/tree_5.jpg); top: 0"></div>
<div class="overlay-dark"></div>
<div class="container">
    <div class="row">
        <div class="col-12">
            <div class="profile-section tree-section position-relative box-shadow-sm mt-3">
                <div class="profile-section-overlay"></div>
                <div class="profile-inner-container border-300">
                    <h1>All Cellists</h1>
                    <div>
                        <form action=""></form>
                    </div>
                    <div class="d-flex align-items-baseline">
                        <p class="small">Don't see who you're looking for?</p>
                        <a href="/add_cellist" class="btn btn-primary ml-3">
                            <span class="fa fa-plus"></span>
                            Add cellist
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row mt-5">
        {% for cellist in all_cellists %}
        <div class="col-12 col-md-6 col-lg-4 d-flex">
            <div class="card cellist-card box-shadow-sm">
                <div class="row no-gutters h-100">
                    <div class="col-4">
                        {% if cellist.img_url %}
                        <div class="cellist-card-img w-100 h-100" style="background-image: url('{{cellist.img_url}}')"></div>
                        {% else %}
                        <div class="cellist-card-img w-100 h-100" style="background-image: url('/static/img/cello_1.jpg')"></div>
                        {% endif %}
                    </div>
                    <div class="col-8">
                        <div class="card-body h-100">
                            <h5 class="card-title text-black">{{cellist.lname}}, {{cellist.fname}}</h5>
                            <div class="row">
                                <div class="col-4 pr-0">
                                    <p class="card-text">{{cellist.teacher_links|length}} <br><small class="text-muted">teachers</small></p>
                                </div>
                                <div class="col-4 pr-0">
                                    <p class="card-text">{{cellist.student_links|length}} <br><small class="text-muted">students</small></p>
                                </div>
                                <div class="col-4">
                                    <p class="card-text">{{cellist.posts|length}} <br><small class="text-muted">posts</small></p>
                                </div>
                            </div>
                            <a href="/cellist_profile/{{cellist.cellist_id}}" class="btn btn-secondary mt-3 mx-0">View profile</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        {% endfor %}
    </div>
</div>


{% endblock %}